<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ant Design Vue 可展开表格示例</title>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ant-design-vue@3.2.20/dist/antd.css">
    <style>
        .demo-table {
            margin: 20px;
        }
        .expand-row {
            padding: 20px;
            background-color: #fafafa;
        }
        .detail-item {
            margin-bottom: 12px;
            font-size: 14px;
        }
        .detail-label {
            color: #666;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div id="app">
        <a-config-provider>
            <div class="demo-table">
                <a-table
                    :columns="columns"
                    :data-source="tableData"
                    :expand-row-by-click="true">
                    <template #expandedRowRender="{ record }">
                        <div class="expand-row">
                            <div class="detail-item">
                                <span class="detail-label">详细地址：</span>{{ record.address }}
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">联系电话：</span>{{ record.phone }}
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">备注信息：</span>{{ record.notes }}
                            </div>
                        </div>
                    </template>
                    <template #bodyCell="{ column, text }">
                        <template v-if="column.dataIndex === 'state'">
                            <a-tag :color="text === '成功' ? 'success' : 'warning'">
                                {{ text }}
                            </a-tag>
                        </template>
                    </template>
                </a-table>
            </div>
        </a-config-provider>
    </div>

    <!-- 引入依赖 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.2.47/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.3/dayjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.3/locale/zh-cn.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@ant-design/icons-vue@6.1.0/dist/index.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ant-design-vue@3.2.20/dist/antd.min.js"></script>
    <script>
        // 设置 dayjs 语言
        dayjs.locale('zh-cn');

        const { createApp, ref } = Vue;

        const app = createApp({
            setup() {
                const columns = [
                    {
                        title: '日期',
                        dataIndex: 'date',
                        key: 'date',
                    },
                    {
                        title: '姓名',
                        dataIndex: 'name',
                        key: 'name',
                    },
                    {
                        title: '城市',
                        dataIndex: 'city',
                        key: 'city',
                    },
                    {
                        title: '状态',
                        dataIndex: 'state',
                        key: 'state'
                    }
                ];

                const tableData = ref([
                    {
                        key: '1',
                        date: '2024-03-16',
                        name: '张三',
                        city: '上海',
                        state: '成功',
                        address: '上海市浦东新区陆家嘴金融贸易区',
                        phone: '13800138000',
                        notes: '重要客户，优先处理'
                    },
                    {
                        key: '2',
                        date: '2024-03-15',
                        name: '李四',
                        city: '北京',
                        state: '处理中',
                        address: '北京市朝阳区建国路88号',
                        phone: '13900139000',
                        notes: '需要跟进'
                    },
                    {
                        key: '3',
                        date: '2024-03-14',
                        name: '王五',
                        city: '广州',
                        state: '成功',
                        address: '广州市天河区珠江新城',
                        phone: '13700137000',
                        notes: '常规订单'
                    }
                ]);

                return {
                    columns,
                    tableData
                };
            }
        });

        app.use(antd);
        app.mount('#app');
    </script>
</body>
</html>
